<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desenvolvimento Web</title>
    <link rel="stylesheet" href="style3.css">
</head>
<body>
<!--------------- CAPA --------------->
    <section id="header">
            <header id="menu">
                <h2 id="menuText">Menu</h2>
                <nav>
                    <ul id="list">
                        <li><a href="index.html">Intro</a></li>
                        <li><a href="front.html">Front End</a></li>
                        <li><a href="back.html" id="active">Back End</a></li>
                        <li><a href="feedback.html">Feedback</a></li>
                    </ul>
                </nav>
            </header>
            <div id="cover-circles">
                <div id="cover-text">
                    <h1>Back End</h1>
                    <p id="subtitle">Linguagem, banco de dados e p√°ginas din√¢micas</p>
                </div>
            </div>
    </section>
<!--------------- INTRO --------------->
    <section class="container">
        <h2>PHP</h2>
        <p>Existem diversas linguagens para trabalhar com o back end, mas, aqui, veremos um pouco do PHP. Essa sigla, hoje, significa PHP Hypertext Preprocessor (isso mesmo, o P √© de PHP), mas originalmente significava Personal Home Page.</p>
        <p>Essa linguagem roda no server-side, lembra? Seu navegador n√£o a interpreta, mas uma p√°gina HTML personalizada √© criada a partir dela (e essa, sim, o browser compila em formato visual).</p>
        <p>Ent√£o, para aprendermos um pouco sobre, transformaremos nosso computador em "metade cliente e metade servidor". Para isso baixaremos o pacote XAMPP (ele vem com algumas funcionalidades que precisaremos, como o Apache (que √© um servidor), o banco de dados MySQL e um interpretador PHP).</p>
        <img id="xampp" src="images/xampp-icon.png"/>
        <figcaption class="caption">XAMPP</figcaption>
        <p>Ap√≥s instalado o pacote, temos que abri-lo, ativar as fun√ß√µes Apache e MySQL (clicando em Start) e aguardar at√© ficar verde. Esse processo precisa ser feito sempre que quisermos abrir um documento que est√° salvo para rodar com o XAMPP.</p>
        <img class="start-xampp" src="images/start-xampp.png"/>
        <p>Salvaremos as pastas e arquivos que criarmos para trabalhar com o PHP em Disco Local (C:) > xampp > htdocs. Abriremos eles no browser, mas pesquisando por: localhost://nome-da-pasta-ou-arquivo-nao-esqueca-da-extensao. Esse localhost se refere ao seu pr√≥prio computador, onde os arquivos est√£o salvos; funciona como um "servidor offline" para o qual voc√™ vai solicitar a p√°gina ou pasta (ele serve especialmente para testes de desenvolvedores).</p>
        <h2>Banco de dados</h2>
        <p>Como j√° sabemos, o PHP conecta uma p√°gina HTML a um banco de dados; assim, informa√ß√µes do front end podem ser salvas no data base e a p√°gina pode ser dinamicamente atualizada quando o data base tamb√©m for.</p>
        <p>No mundo f√≠sico existem arm√°rios que guardam pastas que guardam fichas. Em programa√ß√£o, os arm√°rios s√£o bancos de dados, as pastas s√£o tabelas e as fichas s√£o registros (compostos por campos), e tudo √© digital.</p>
        <p>Aqui, usaremos o banco de dados MySQL ‚Äî SQL significa Structured Query Language ou Linguagem de Consulta Estruturada.</p>
    </section>
<!--------------- EXEMPLO --------------->
    <section class="container">
        <h2>Exemplo</h2>
        <p>Faremos um formul√°rio de cadastro. Primeiro o HTML üëá</p>

        <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Formul√°rio e banco de dados&lt;/title&gt;
  &lt;link href="form-style.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="box"&gt;
    &lt;form action="enviar.php" method="POST"&gt; <span class="color-purple">&lt;!-- quando o formul√°rio for enviado a a√ß√£o das informa√ß√µes irem para "enviar.php" e o que mais tiver nesse arquivo ser√£o executados --&gt;</span>
      &lt;fieldset&gt; <span class="color-purple">&lt;!-- agrupa elementos dentro de um formul√°rio --&gt;</span>
        &lt;legend&gt;&lt;b&gt;Formul√°rio de Cadastro&lt;/b&gt;&lt;/legend&gt; <span class="color-purple">&lt;!-- √© uma legenda usada junto com a tag &lt;fieldset&gt;; tag &lt;b&gt; = bold ou negrito --&gt;</span>
        &lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="text" name="nome" id="nome" class="inputUser" required&gt; <span class="color-purple">&lt;!-- &lt;input&gt; proporciona interatividade ao formul√°rio, pois permite que o usu√°rio o complete com suas informa√ß√µes --&gt;</span>
          &lt;label for="nome" class="label-input"&gt;Nome Completo&lt;/label&gt; <span class="color-purple">&lt;!-- &lt;label&gt; = etiqueta ou r√≥tulo do input --&gt;</span>
        &lt;/div&gt; 
        &lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="text" name="email" id="email" class="inputUser" required&gt; <span class="color-purple">&lt;!-- required = requerido ou obrigat√≥rio para o usu√°rio preencher --&gt;</span>
          &lt;label for="email" class="label-input"&gt;Email&lt;/label&gt;
        &lt;/div&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="number" name="telefone" id="telefone" class="inputUser" required&gt;
          &lt;label for="telefone" class="label-input"&gt;Telefone&lt;/label&gt;
        &lt;/div&gt;
        &lt;br&gt;
        &lt;p&gt;Sexo:&lt;/p&gt;
        &lt;input type="radio" name="sexo" id="feminino" value="F" required&gt; <span class="color-purple">&lt;!-- &lt;input type="radio"&gt; √© aquele que temos que preencher clicando em apenas uma das op√ß√µes; todos os bot√µes radio que t√™m o mesmo name indicam que s√£o op√ß√µes sobre a mesma coisa, ent√£o, s√≥ uma delas pode ser escolhida --&gt;</span>
        &lt;label for="sexo"&gt;Feminino&lt;/label&gt;
        &lt;input type="radio" name="sexo" id="masculino" value="M" required&gt; <span class="color-purple">&lt;!-- value = valor daquele input radio, √© como a sua escolha ficar√° salva se voc√™ escolher aquela op√ß√£o --&gt;</span>
        &lt;label for="sexo"&gt;Masculino&lt;/label&gt;
        &lt;input type="radio" name="sexo" id=outro" value="O" required&gt;
        &lt;label for="sexo"&gt;Outro&lt;/label&gt;
        &lt;br&gt;&lt;br&gt;&lt;br&gt;
        &lt;label for="data_nascimento"&gt;&lt;b&gt;Data de Nascimento:&lt;/b&gt;&lt;/label&gt;
        &lt;input type="date" name="data_nascimento" id="data_nascimento" required&gt;
        &lt;br&gt;&lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="text" name="cidade" id="cidade" class="inputUser" required&gt;
          &lt;label for="cidade" class="label-input"&gt;Cidade&lt;/label&gt;
        &lt;/div&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="text" name="estado" id="estado" class="inputUser" required&gt;
          &lt;label for="estado" class="label-input"&gt;Estado&lt;/label&gt;
         &lt;/div&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;div class="inputBox"&gt;
          &lt;input type="text" name="endereco" id="endereco" class="inputUser" required&gt;
          &lt;label for="endereco" class="label-input"&gt;Endere√ßo&lt;/label&gt;
        &lt;/div&gt;
        &lt;br&gt;&lt;br&gt;
        &lt;input type="submit" name="submit" id="submit"&gt; <span class="color-purple">&lt;!-- &lt;input type="submit"&gt; = bot√£o enviar --&gt;</span>
      &lt;/fieldset&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

        <p>Adicionaremos o CSS em um outro arquivo üëá</p>

        <pre><code>body {
  font-family: Arial, Helvetica, sans-serif;
  background-image: linear-gradient(to right, #dd6b01, #fa1693);
}
.box {
  color: white;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);     
  background-color: rgba(0, 0, 0, 0.8);
  padding: 15px;
  border-radius: 15px;
}
fieldset {
  border: 3px solid white;
}
legend {
  border: 1px solid white;
  padding: 10px;
  text-align: center;
  background-color: white;
  border-radius: 8px;
  color: black;
}
.inputBox {
  position: relative;
}
.inputUser { 
  background: none;
  border: none;
  border-bottom: 1px solid white;
  outline: none; <span class="color-purple">/* significa contorno; adiciona mais uma borda ao elemento quando ele est√° selecionado */</span>
  color: white;
  font-size: 15px;
  width: 100%;
  letter-spacing: 2px;
}
.label-input {
  position: absolute;
  top: 0px;
  left: 0px;
  pointer-events: none; <span class="color-purple">/* controla como aquele elemento responder√° aos eventos do mouse do usu√°rio */</span>
  transition: .5s; <span class="color-purple">/* define a dura√ß√£o da transi√ß√£o entre dois estados de um elemento; √© um poderoso recurso para a cria√ß√£o de efeitos de anima√ß√£o */</span>
}
.inputUser:focus ~ .label-input,
.inputUser:valid ~ .label-input {
  top: -20px;
  font-size: 12px;
  color: rgb(194, 190, 190);
}
#data_nascimento {
  border: none;
  padding: 8px;
  border-radius: 10px;
  outline: none;
  font-size: 15px;
}
#submit {
  background-image: linear-gradient(to right, #dd6b01, #fa1693);
  width: 100%;
  border: none;
  padding: 15px;
  color: white;
  font-size: 15px;
  cursor: pointer;
  border-radius: 10px;
}
#submit:hover {
  background-image:linear-gradient(to right, #c46002, #c71978);
  color: rgb(204, 204, 204);
}</code></pre>

        <p>O resultado ser√° esse:</p>
        <img class="form" src="images/form-ex.png"/>
        <figcaption>Se voc√™ seguiu o exemplo e chegou nesse resultado, experimente clicar nos campos para ver as anima√ß√µes e enviar o formul√°rio deixando algo em branco (um aviso ser√° exibido)!</figcaption>
        <br><br><br>
        <p>Ent√£o, criaremos um banco de dados e uma tabela. Vamos ao  XAMPP > MySQL > Admin.</p>
        <img class="start-xampp" src="images/admin-xampp.png"/>
        <p>√â  s√≥ criar um novo banco, uma nova tabela e configurar os campos de acordo com o que h√° para ser preenchido no formul√°rio. Depois, ambos (banco e tabela) ser√£o exibidos na barra lateral.</p>
        <img id="sideTable-xampp" src="images/sideTable-xampp.png"/>
        <div id="tipos">
            <h2 class="tipos-t√≠tulo">Um pouco sobre os tipos no MySQL:</h2>
            <p class="roxo">Num√©ricos</p>
            <p class="texto-junto">‚Ä¢ SMALLINT ‚Äî n√∫mero inteiro pequeno;</p>
            <p  class="texto-junto">‚Ä¢ MEDIUMINT ‚Äî n√∫mero inteiro de tamanho m√©dio;</p> 
            <p class="texto-junto">‚Ä¢ INT ‚Äî n√∫mero inteiro de tamanho comum;</p> 
            <p class="texto-junto">‚Ä¢ BIGINT ‚Äî n√∫mero inteiro de tamanho grande;</p>
            <p>‚Ä¢ DECIMAL ‚Äî n√∫mero decimal.</p>
            <p class="roxo">Data/Tempo</p>
            <p class="texto-junto">‚Ä¢ DATE ‚Äî data no formato 'CCYY-MM-DD'. Por exemplo 1985-11-25 (ano-m√™s-dia). O 'CC' se refere aos dois d√≠gitos do s√©culo (century, em ingl√™s);</p> 
            <p class="texto-junto">‚Ä¢ TIME ‚Äî hor√°rio;</p>
            <p>‚Ä¢ YEAR ‚Äî ano.</p>
            <p class="roxo">Strings (cadeias de caracteres)</p>
            <p class="texto-junto">‚Ä¢ CHAR ‚Äî string de tamanho fixo. Por exemplo, se o tamanho √© 30, mas a palavra preenchida no formul√°rio tem menos letras, ele vai completar com espa√ßos at√© dar 30;</p> 
            <p class="texto-junto">‚Ä¢ VARCHAR ‚Äî uma string de tamanho vari√°vel. Aqui, 30 letras significa at√© 30;</p>
            <p class="texto-junto">‚Ä¢ TEXT ‚Äî string pequena;</p>
            <p class="texto-junto">‚Ä¢ MEDIUMTEXT ‚Äî string de tamanho comum;</p>
            <p class="texto-junto">‚Ä¢ LONGTEXT ‚Äî string de tamanho grande.</p>
        </div>
        <p>Agora, precisamos conectar o front com o banco de dados; ent√£o vamos criar o caminho usando PHP ‚Äî para isso crie um arquivo separado com a extens√£o <code>.php</code> ‚Äî üëá</p>

        <pre><code><span class="color-purple">// o coment√°rio em PHP √© igual em JS</span>

&lt;?php <span class="color-purple">// √© assim que se abre o PHP</span>

<span class="color-purple">// $ = vari√°vel em PHP</span>

  $hostname = "localhost"; <span class="color-purple">// nesta vari√°vel estamos guardando o nome do nosso servidor offline, o localhost</span>
  $usuario = "root"; <span class="color-purple">// por padr√£o,  nosso nome de usu√°rio √© root</span>
  $senha = ""; <span class="color-purple">// n√£o temos senha no MySQL</span>
  $bd = "cadastro";
            
  $conexao = new mysqli($hostname, $usuario, $senha, $bd); 
            
?&gt; <span class="color-purple">// √© assim que se fecha o PHP</span></code></pre>

        <p>No nosso c√≥digo HTML, voc√™ pode ver que o formul√°rio tem a a√ß√£o de levar o usu√°rio √† p√°gina "enviar.php" ap√≥s o bot√£o enviar ser pressionado. Ent√£o, vamos criar esta p√°gina e aplicar a conex√£o que acabamos de criar üëá</p>

        <pre><code>
&lt;?php

  if (isset($_POST["submit"])) { 
  <span class="color-purple">/* if = se
     isset verifica se uma vari√°vel existe e seu valor n√£o √© igual a null (nulo). 
     No caso, isset vai verificar se as informa√ß√µes foram enviadas atrav√©s do m√©todo post, quando clicaram no submit 
     Se isso for verdade, as linhas de c√≥digo a seguir ser√£o executadas
  */</span>
            
  include_once("conex√£o.php");
  <span class="color-purple">/* aqui estamos incluindo a conex√£o que criamos no outro arquivo
     para jogar as informa√ß√µes no banco de dados:
 */</span> 

  $nome = $_POST["nome"]; <span class="color-purple">// cada vari√°vel est√° recebendo, pelo m√©todo post, as informa√ß√µes que foram inseridas nos inputs que t√™m aqueles nomes (que est√£o entre aspas (""))</span>
  $email = $_POST["email"];
  $telefone = $_POST["telefone"];
  $sexo = $_POST["sexo"];
  $dataNasc = $_POST["data_nascimento"];
  $cidade = $_POST["cidade"];
  $estado = $_POST["estado"];
  $endereco = $_POST["endereco"];
                
  $result = mysqli_query($conexao, "INSERT INTO cadastrosteste (nome, email, telefone, sexo, data_nasc, cidade, estado, endereco) VALUES ('$nome' '$email', 
  '$telefone', '$sexo', '$dataNasc', '$cidade', '$estado', '$endereco')");
  <span class="color-purple">// aqui estamos inserindo em cada campo da tabela cadastrosteste seus respectivos valores, que est√£o guardados nas vari√°veis que acabamos de criar</span>
}
            
?&gt;</code></pre>

        <p>Voc√™ tamb√©m pode fazer um HTML dentro deste PHP (abrindo todas as tags normalmente) com uma mensagem do tipo: "Cadastrado(a) com sucesso!" para o usu√°rio; e tamb√©m pode fazer um CSS interno para esse HTML.</p>
        <p>Aten√ß√£o: voc√™ pode escrever HTML e CSS dentro de arquivos <code>.php</code>, mas n√£o o contr√°rio!</p>
        <p>Pra finalizar, vamos criar uma p√°gina que faz outro caminho: puxa as informa√ß√µes que j√° tem no banco de dados at√© o front end. Ser√° uma p√°gina de listagem üëá</p>

        <pre><code>&lt;?php

  include("conex√£o.php");

  $consulta = "SELECT * FROM cadastrosteste";

  $result = $conexao -> query($consulta);

?&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;html lang="pt-br"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gtListagem do Banco da Dados&lt;/title&gt;
  &lt;style&gt;
    body {
      background: linear-gradient(to right, #dd6b01, #fa1693);
    }
    #t√≠tulo {
      text-align: center;
    }
    #tabela {
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse; <span class="color-purple">/* collapse tira uma das bordas que teria na tabela por padr√£o, deixando todas as c√©lulas compartilhando uma borda √∫nica */</span>
    }
    th, td {
      padding: 10px;
    }
    th {
      background: rgb(228, 227, 227);
      color: black;
    }
    tr {
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1 id="t√≠tulo"&gt;Listagem do Data Base cadastro - Tabela cadastrosteste&lt;/h1&gt;
  &lt;br&gt;
  &lt;table id="tabela" align="center"&gt;
    &lt;thead&gt; <span class="color-purple">&lt;!-- table head ou cabe√ßalho da tabela --&gt;</span>
      &lt;tr&gt;
        &lt;th&gt;#&lt;/th&gt; <span class="color-purple">&lt;!-- &lt;th&gt; = table header ou c√©lula de cabe√ßalho; √© a mesma coisa que a tag &lt;td&gt;, mas deixa o texto em negrito --&gt;</span>
        &lt;th&gt;Nome&lt;/th&gt;
        &lt;th&gt;Email&lt;/th&gt;
        &lt;th&gt;Telefone&lt;/th&gt;
        &lt;th&gt;Sexo&lt;/th&gt;
        &lt;th&gt;Data de Nascimento&lt;/th&gt;
        &lt;th&gt;Cidade&lt;/th&gt;
        &lt;th&gt;Estado&lt;/th&gt;
        &lt;th&gt;Endere√ßo&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt; <span class="color-purple">&lt;!-- table body ou corpo da tabela --&gt;</span>
      &lt;tr&gt;
        &lt;?php 
          while ($user_data = $result -> fetch_array( )) {
          <span class="color-purple">/* while = enquanto
             esse comando vai buscar (fetch) os arrays (um tipo de dado) da vari√°vel $result (que faz o link com uma tabela espec√≠fica no banco de dados)
             A vari√°vel $user_data √© o que usaremos em vez de escrever a fun√ß√£o toda de novo, de novo e de novo...
          */</span> 
        ?&gt;
        &lt;tr&gt;
          &lt;td&gt;&lt;?php echo $user_data ["id"]; ?&gt;&lt;/td&gt;
          &lt;td&gt;&lt;?php echo $user_data ["nome"]; ?&gt;&lt;/td&gt;
          &lt;td&gt;&lt;?php echo $user_data ["email"]; ?&gt;&lt;/td&gt;
          &lt;td&gt&lt;?php echo $user_data ["telefone"]; ?&gt;&lt;/td&gt;
          &lt;td&gt&lt;?php echo $user_data ["sexo"]; ?&gt;&lt;/td&gt;
          &lt;td&gt&lt;?php echo date("d/m/Y", strtotime ($user_data ["data_nasc"])); ?&gt;&lt;/td&gt;
          <span class="color-purple">&lt;!-- aqui, antes de chamarmos o array espec√≠fico pra data, arrumamos a forma como ela vai aparecer (day/month/Year) porque l√° na tabela do bd est√° no formato americano --&gt;</span>
          &lt;td&gt;&lt;?php echo $user_data ["cidade"]; ?&gt;&lt;/td&gt;
          &lt;td&gt;&lt;?php echo $user_data ["estado"]; ?&gt;&lt;/td&gt;
          &lt;td&gt;&lt;?php echo $user_data ["endereco"]; ?&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;?php 
          } 
        ?&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

        <p>E vamos testar o funcionamento preenchendo o formul√°rio e atualizando a p√°gina de listagem para ver as informa√ß√µes l√°:</p>
        <img class="form" src="images/form-test.png"/>
        <br><br><br><br>
        <img class="form" id="fundo-final" src="images/form-listagem.png"/>
    </section>